<!DOCTYPE html>

<html lang="pt-BR">
<head>
	 <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<title>WS Categorias</title>

	<script src="js/cadastro-categorias.js"></script>

</head>

<body>



 <div class="container-fluid">

	 <div class="row">
		 <div class="col-sm">

			 <h3 class="col-6">WS Categorias</h3>

			 <div class="card-body bg-white">


			 <form action="" id="formCadastroCategorias">

				 <!-- ROW -->
				 <div class="row">

				 <div class="col-lg-1">
					 <div class="form-group">
						 <label for="codigo" class="form-label">Cód.</label>
						 <input type="text" class="form-control" id="codigo" readonly>
					 </div>
				 </div>

				 <div class="col-lg-5">
					 <div class="form-group">
						 <label for="nome" class="form-label">Nome</label>
						 <input type="text" class="form-control" id="nome" placeholder="nome" required>
					 </div>
				 </div>

				 <div class="col-lg-5">
					 <div class="form-group">
						 <label for="descricao" class="form-label">Descrição</label>
						 <input type="text" class="form-control" id="descricao" placeholder="descrição" required>
					 </div>
				 </div>

			 </div>

			 </form>

			 </div>

		 </div>

		 <div id="divBtns">

			 <button type="button" class="btn btn-primary" onclick="criarCategoria()" id="btn-salvar">
				 <span class="btn-inner--text">Salvar</span>
			 </button>

			 <button type="button" class="btn btn-success" onclick="document.getElementById('formCadastroCategorias').reset();" id="btn-novo">Novo</button>
			 <button type="button" class="btn btn-warning" onclick="atualizarPorIdCategoria(' + codigo + ')" id="btn-editar">Atualizar</button>
			 <button type="button" class="btn btn-danger" id="btnModal" data-bs-toggle="modal" data-bs-target="#modalPesquisarCategorias">Pesquisar</button>

		 </div>


	 </div>
 </div>





 <!-- modal de pesquisar categorias -->
 <div class="modal fade" id="modalPesquisarCategorias" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	 <div class="modal-dialog modal-lg">
		 <div class="modal-content">
			 <div class="modal-header">
				 <h5 class="modal-title" id="exampleModalLabel">Pesquisar categorias</h5>
				 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			 </div>
			 <div class="modal-body">
				 <form>
					 <div class="mb-3">
						 <label for="nome-busca" class="col-form-label">Nome da Categoria:</label>
						 <input type="text" class="form-control" id="nome-busca">
					 </div>
					 <button type="button" class="btn btn-success" onclick="pesquisarCategoriaPorNome()">Pesquisar</button>
				 </form>

				 <div class="table-responsive">

				 <table class="table table-striped table-hover" id="tabelaCategorias">
					 <thead>
					 <tr>
						 <th scope="col">#</th>
						 <th scope="col">Nome</th>
						 <th scope="col">Descrição</th>
						 <th scope="col">Data/Cadastro</th>
						 <th scope="col">Ação</th>
					 </tr>
					 </thead>
					 <tbody>

					 </tbody>
				 </table>

				 </div>

			 </div>
			 <div class="modal-footer">
				 <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
			 </div>
		 </div>
	 </div>
 </div>

 <!-- Option 1: Bootstrap Bundle with Popper -->
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
 <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
 


 <script type="text/javascript">

	$("#btn-editar").hide();

    $("#btn-novo").click(function(){
		 // desabilitar o botão de editar
         $("#btn-editar").hide();

         // habilitar o botão de salvar
         $("#btn-salvar").show();
         $("#btn-salvar").prop("disabled", false);

    });

    $("#btnModal").click(function(){
       	$('#tabelaCategorias > tbody > tr').remove();
       	$('#nome-busca').val(null);
    });

</script>


</body>
</html>